<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>امتحان مفاجئ: المول وحجم الغاز</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap');

        :root {
            --primary-color: #9b59b6; /* Purple shade */
            --secondary-color: #3498db; /* Blue shade */
            --background-color: #1a1a2e; /* Dark purple/blue bg */
            --surface-color: rgba(255, 255, 255, 0.95);
            --text-color: #333;
            --light-text-color: #f0f0f0;
            --correct-color: #2ecc71;
            --incorrect-color: #e74c3c;
            --border-radius: 15px;
            --box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        body {
            font-family: 'Cairo', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow: hidden;
            position: relative;
        }
        
        /* AI Animated Background */
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                linear-gradient(45deg, var(--primary-color), transparent 50%),
                linear-gradient(135deg, var(--secondary-color), transparent 50%),
                linear-gradient(225deg, #e74c3c, transparent 50%),
                linear-gradient(315deg, #f1c40f, transparent 50%);
            background-size: 800px 800px;
            animation: moveBG 20s linear infinite;
            opacity: 0.2;
            z-index: 0;
        }

        @keyframes moveBG {
            0% { background-position: 0 0; }
            100% { background-position: 800px 800px; }
        }

        .quiz-container {
            background-color: var(--surface-color);
            padding: 35px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            width: 100%;
            max-width: 850px;
            z-index: 1;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .quiz-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 3px solid var(--primary-color);
        }

        .quiz-header h1 {
            color: var(--primary-color);
            margin: 0;
            font-size: 2.2em;
        }

        #student-info {
            margin-bottom: 25px;
            text-align: center;
        }

        #student-info label {
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 1.2em;
            display: block;
        }

        #student-name {
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 10px;
            width: 60%;
            text-align: center;
            font-size: 1.1em;
            transition: all 0.3s;
        }

        #student-name:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 10px rgba(155, 89, 182, 0.5);
            outline: none;
        }

        .question-block {
            margin-bottom: 30px;
            padding: 20px;
            background-color: #fdfdfd;
            border-radius: var(--border-radius);
            border-left: 6px solid var(--secondary-color);
        }

        .question-block img {
            width: 100%;
            height: 250px;
            object-fit: cover;
            border-radius: 10px;
            margin-bottom: 15px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .question-block p strong {
          font-size: 1.1em;
        }

        .options {
            list-style-type: none;
            padding: 0;
            margin: 15px 0 0 0;
        }

        .options li {
            background-color: #f0f3f5;
            margin-bottom: 12px;
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            position: relative;
            padding-right: 45px;
        }
        
        .options li::before {
            content: '';
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            width: 20px;
            height: 20px;
            border: 2px solid #ccc;
            border-radius: 50%;
            transition: all 0.2s;
        }

        .options li:hover {
            background-color: #e1e8ed;
        }
        
        .options li.selected {
            background-color: var(--primary-color);
            color: white;
            font-weight: bold;
        }
        
        .options li.selected::before {
            background-color: white;
            border-color: var(--primary-color);
        }
        
        .options li input[type="radio"] {
            display: none;
        }

        .options li label {
            display: block;
            cursor: pointer;
        }
        
        #submit-btn {
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            color: white;
            border: none;
            padding: 18px 30px;
            font-size: 1.3em;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            display: block;
            width: 100%;
            margin-top: 25px;
            transition: all 0.3s;
        }

        #submit-btn:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }

        #results {
            margin-top: 30px;
            padding: 25px;
            border-radius: var(--border-radius);
            background: linear-gradient(135deg, #f5f7fa, #c3cfe2);
            text-align: center;
            display: none;
        }
        
        #results h2 {
            color: var(--primary-color);
            font-size: 2em;
        }

        #results p {
            font-size: 1.6em;
            font-weight: bold;
        }
        
        #feedback {
            font-size: 1.4em;
            font-weight: bold;
            margin-top: 20px;
            padding: 15px;
            border-radius: 10px;
            color: white;
        }

        .answers-review {
            margin-top: 30px;
            text-align: right;
        }
        
        .review-question {
            margin-bottom: 20px;
            padding: 15px;
            border-radius: 10px;
            border: 1px solid #ddd;
        }

        .review-question.correct {
            background-color: #e8f5e9;
            border-right: 7px solid var(--correct-color);
        }

        .review-question.incorrect {
            background-color: #fce4e4;
            border-right: 7px solid var(--incorrect-color);
        }

        .review-question p {
            margin: 0 0 10px 0;
        }
        
        .explanation {
            font-style: italic;
            color: #555;
            margin-top: 10px;
            background: #f0f0f0;
            padding: 10px;
            border-radius: 8px;
            border-right: 3px solid var(--secondary-color);
        }
    </style>
</head>
<body>

    <div class="quiz-container" id="quiz-box">
        <div class="quiz-header">
            <h1>امتحان مفاجئ: المول وحجم الغاز</h1>
        </div>

        <div id="student-info">
            <label for="student-name">أدخل اسمك لبدء الامتحان:</label>
            <input type="text" id="student-name" placeholder="الاسم الكامل">
        </div>
        
        <form id="quiz-form"></form>

        <button id="submit-btn">تسليم الامتحان</button>

        <div id="results">
            <h2 id="result-title">النتيجة</h2>
            <p id="score"></p>
            <p id="feedback"></p>
            <div id="answers-review" class="answers-review"></div>
        </div>
    </div>

    <script>
        const quizData = [
            {
                question: "1. ما كتلة 0.25 مول من كربونات الكالسيوم (CaCO₃)؟ (Ca=40, C=12, O=16)",
                options: ["400 جم", "100 جم", "50 جم", "25 جم"],
                answer: "25 جم",
                explanation: "الكتلة المولية لـ CaCO₃ = 40 + 12 + (3×16) = 100 جم/مول. الكتلة = عدد المولات × الكتلة المولية = 0.25 مول × 100 جم/مول = 25 جم."
            },
            {
                question: "2. عدد جزيئات 11 جرامًا من ثاني أكسيد الكربون (CO₂) يساوي... (C=12, O=16)",
                options: ["نصف عدد أفوجادرو", "ربع عدد أفوجادرو", "عدد أفوجادرو", "ضعف عدد أفوجادرو"],
                answer: "ربع عدد أفوجادرو",
                explanation: "الكتلة المولية لـ CO₂ = 12 + (2×16) = 44 جم/مول. عدد المولات = الكتلة / الكتلة المولية = 11 جم / 44 جم/مول = 0.25 مول. إذن، عدد الجزيئات = 0.25 × عدد أفوجادرو (Nₐ)."
            },
            {
                question: "3. حجم 8 جرام من غاز الميثان (CH₄) في الظروف القياسية (STP) هو... (C=12, H=1)",
                options: ["22.4 لتر", "11.2 لتر", "5.6 لتر", "44.8 لتر"],
                answer: "11.2 لتر",
                explanation: "الكتلة المولية لـ CH₄ = 12 + (4×1) = 16 جم/مول. عدد المولات = 8 جم / 16 جم/مول = 0.5 مول. الحجم = 0.5 مول × 22.4 لتر/مول = 11.2 لتر."
            },
            {
                question: "4. عينة من مركب مجهول كتلتها 30 جم تحتوي على 0.5 مول. ما هي الكتلة المولية لهذا المركب؟",
                options: ["15 جم/مول", "30 جم/مول", "60 جم/مول", "90 جم/مول"],
                answer: "60 جم/مول",
                explanation: "الكتلة المولية = الكتلة / عدد المولات = 30 جم / 0.5 مول = 60 جم/مول."
            },
            {
                question: "5. ما عدد الذرات الكلي في 90 جرامًا من الماء (H₂O)؟ (H=1, O=16)",
                options: ["5 × Nₐ", "10 × Nₐ", "15 × Nₐ", "3 × Nₐ"],
                answer: "15 × Nₐ",
                explanation: "عدد مولات الماء = 90 جم / 18 جم/مول = 5 مول. عدد الجزيئات = 5 × Nₐ. كل جزيء ماء به 3 ذرات (2 هيدروجين + 1 أكسجين). إذن، عدد الذرات الكلي = 3 × 5 × Nₐ = 15 × Nₐ."
            },
            {
                question: "6. ما كتلة 33.6 لتر من غاز أول أكسيد النيتروجين (NO) في الظروف القياسية (STP)؟ (N=14, O=16)",
                options: ["30 جم", "45 جم", "60 جم", "90 جم"],
                answer: "45 جم",
                explanation: "عدد المولات = 33.6 لتر / 22.4 لتر/مول = 1.5 مول. الكتلة المولية لـ NO = 14 + 16 = 30 جم/مول. الكتلة = 1.5 مول × 30 جم/مول = 45 جم."
            },
            {
                question: "7. أيهما يحتوي على عدد أكبر من الذرات؟",
                options: ["1 مول من الأكسجين (O₂)", "1 مول من الأوزون (O₃)", "كلاهما متساوي", "لا يمكن التحديد"],
                answer: "1 مول من الأوزون (O₃)",
                explanation: "1 مول من O₂ يحتوي على 2 × Nₐ ذرة. بينما 1 مول من O₃ يحتوي على 3 × Nₐ ذرة."
            },
            {
                question: "8. عدد المولات في 3.011 × 10²³ جزيء من غاز الكلور (Cl₂) هو...",
                options: ["1 مول", "2 مول", "0.25 مول", "0.5 مول"],
                answer: "0.5 مول",
                explanation: "عدد المولات = عدد الجزيئات / عدد أفوجادرو = (3.011 × 10²³) / (6.022 × 10²³) = 0.5 مول."
            },
            {
                question: "9. بالون حجمه 5.6 لتر في الظروف القياسية (STP) يحتوي على غاز مجهول كتلته 11 جم. ما الكتلة المولية للغاز؟",
                options: ["22 جم/مول", "33 جم/مول", "44 جم/مول", "55 جم/مول"],
                answer: "44 جم/مول",
                explanation: "عدد المولات = 5.6 لتر / 22.4 لتر/مول = 0.25 مول. الكتلة المولية = الكتلة / عدد المولات = 11 جم / 0.25 مول = 44 جم/مول."
            },
            {
                question: "10. ما كتلة جزيء واحد من الماء (H₂O) بالجرام؟ (H=1, O=16)",
                options: ["18 جم", "18 / Nₐ", "Nₐ / 18", "18 × Nₐ"],
                answer: "18 / Nₐ",
                explanation: "كتلة المول الواحد (الذي يحتوي على Nₐ جزيء) هي 18 جم. إذن كتلة الجزيء الواحد هي الكتلة المولية مقسومة على عدد أفوجادرو."
            },
            {
                question: "11. عدد أيونات الصوديوم (Na⁺) في 71 جرامًا من كبريتات الصوديوم (Na₂SO₄) هو... (Na=23, S=32, O=16)",
                options: ["0.5 × Nₐ", "1 × Nₐ", "2 × Nₐ", "4 × Nₐ"],
                answer: "1 × Nₐ",
                explanation: "الكتلة المولية لـ Na₂SO₄ = 142 جم/مول. عدد المولات = 71 جم / 142 جم/مول = 0.5 مول. كل وحدة صيغة تحتوي على 2 أيون صوديوم. إذن عدد مولات أيونات Na⁺ = 0.5 × 2 = 1 مول. عدد الأيونات = 1 × Nₐ."
            },
            {
                question: "12. إذا كانت كثافة غاز ما في الظروف القياسية (STP) هي 2 جم/لتر، فإن كتلته المولية هي:",
                options: ["22.4 جم/مول", "11.2 جم/مول", "44.8 جم/مول", "2 جم/مول"],
                answer: "44.8 جم/مول",
                explanation: "الكتلة المولية = الكثافة × الحجم المولي = 2 جم/لتر × 22.4 لتر/مول = 44.8 جم/مول."
            },
            {
                question: "13. أيهما يشغل حجمًا أكبر في الظروف القياسية (STP)؟",
                options: ["4 جرام من الهيليوم (He=4)", "28 جرامًا من النيتروجين (N₂=28)", "كلاهما متساوي", "لا يمكن التحديد"],
                answer: "كلاهما متساوي",
                explanation: "4 جم من الهيليوم تمثل 1 مول (حجمه 22.4 لتر). و28 جم من النيتروجين (N₂) تمثل أيضًا 1 مول (حجمه 22.4 لتر)."
            },
            {
                question: "14. عدد الذرات في 11.2 لتر من غاز الأرجون (Ar) في الظروف القياسية (STP) هو:",
                options: ["Nₐ", "0.5 × Nₐ", "2 × Nₐ", "0.25 × Nₐ"],
                answer: "0.5 × Nₐ",
                explanation: "عدد المولات = 11.2 لتر / 22.4 لتر/مول = 0.5 مول. بما أن الأرجون غاز نبيل (أحادي الذرة)، فإن عدد الذرات يساوي عدد المولات × عدد أفوجادرو = 0.5 × Nₐ."
            },
            {
                question: "15. ما عدد مولات 1.505 × 10²⁴ ذرة من الحديد (Fe)؟",
                options: ["1.5 مول", "2 مول", "2.5 مول", "3 مول"],
                answer: "2.5 مول",
                explanation: "عدد المولات = عدد الذرات / عدد أفوجادرو = (1.505 × 10²⁴) / (6.022 × 10²³) ≈ 2.5 مول."
            },
            {
                question: "16. كم جرامًا من الأكسجين (O₂) تشغل حجمًا قدره 5.6 لتر في الظروف القياسية (STP)؟ (O=16)",
                options: ["4 جم", "8 جم", "16 جم", "32 جم"],
                answer: "8 جم",
                explanation: "عدد مولات O₂ = 5.6 لتر / 22.4 لتر/مول = 0.25 مول. الكتلة المولية لـ O₂ = 32 جم/مول. الكتلة = 0.25 مول × 32 جم/مول = 8 جم."
            },
            {
                question: "17. عدد الجزيئات في عينة من غاز حجمها 2.24 لتر في الظروف القياسية (STP) هو:",
                options: ["0.1 × Nₐ", "0.2 × Nₐ", "1 × Nₐ", "2 × Nₐ"],
                answer: "0.1 × Nₐ",
                explanation: "عدد المولات = 2.24 لتر / 2.24 لتر/مول = 0.1 مول. عدد الجزيئات = 0.1 × Nₐ."
            },
            {
                question: "18. ما عدد مولات أيونات البوتاسيوم (K⁺) الموجودة في 202 جرام من نترات البوتاسيوم (KNO₃)؟ (K=39, N=14, O=16)",
                options: ["1 مول", "2 مول", "3 مول", "4 مول"],
                answer: "2 مول",
                explanation: "الكتلة المولية لـ KNO₃ = 39 + 14 + (3×16) = 101 جم/مول. عدد مولات المركب = 202 جم / 101 جم/مول = 2 مول. كل وحدة صيغة تحتوي على 1 أيون بوتاسيوم. إذن عدد مولات K⁺ = 2 مول."
            },
            {
                question: "19. حجم 6.022 × 10²² جزيء من غاز ثاني أكسيد الكبريت (SO₂) في الظروف القياسية (STP) هو:",
                options: ["22.4 لتر", "11.2 لتر", "2.24 لتر", "4.48 لتر"],
                answer: "2.24 لتر",
                explanation: "عدد المولات = (6.022 × 10²²) / (6.022 × 10²³) = 0.1 مول. الحجم = 0.1 مول × 22.4 لتر/مول = 2.24 لتر."
            },
            {
                question: "20. إذا علمت أن الكتلة المولية لغاز ما هي 71 جم/مول، فما كتلة 11.2 لتر منه في الظروف القياسية (STP)؟",
                options: ["71 جم", "142 جم", "35.5 جم", "17.75 جم"],
                answer: "35.5 جم",
                explanation: "عدد المولات = 11.2 لتر / 22.4 لتر/مول = 0.5 مول. الكتلة = عدد المولات × الكتلة المولية = 0.5 مول × 71 جم/مول = 35.5 جم."
            }
        ];

        const quizForm = document.getElementById('quiz-form');
        const submitBtn = document.getElementById('submit-btn');
        const resultsDiv = document.getElementById('results');
        const scoreEl = document.getElementById('score');
        const feedbackEl = document.getElementById('feedback');
        const studentNameInput = document.getElementById('student-name');
        const resultTitleEl = document.getElementById('result-title');
        const answersReviewDiv = document.getElementById('answers-review');
        
        function buildQuiz() {
            quizData.forEach((currentQuestion, questionNumber) => {
                const questionBlock = document.createElement('div');
                questionBlock.classList.add('question-block');

                // AI Generated Image Placeholder
                const image = document.createElement('img');
                image.src = `https://picsum.photos/seed/${questionNumber + 50}/800/250`; // Changed seed for new images
                image.alt = `صورة متعلقة بالسؤال ${questionNumber + 1}`;
                
                const questionText = document.createElement('p');
                questionText.innerHTML = `<strong>${currentQuestion.question}</strong>`;

                const optionsList = document.createElement('ul');
                optionsList.classList.add('options');

                currentQuestion.options.forEach((option, index) => {
                    const optionId = `q${questionNumber}o${index}`;
                    const optionItem = document.createElement('li');
                    
                    const radioInput = document.createElement('input');
                    radioInput.type = 'radio';
                    radioInput.name = `question${questionNumber}`;
                    radioInput.value = option;
                    radioInput.id = optionId;

                    const label = document.createElement('label');
                    label.htmlFor = optionId;
                    label.textContent = option;

                    optionItem.appendChild(radioInput);
                    optionItem.appendChild(label);
                    
                    optionItem.addEventListener('click', (e) => {
                        const siblings = e.target.closest('.options').querySelectorAll('li');
                        siblings.forEach(li => li.classList.remove('selected'));
                        e.target.closest('li').classList.add('selected');
                        radioInput.checked = true;
                    });
                    
                    optionsList.appendChild(optionItem);
                });
                
                questionBlock.appendChild(image);
                questionBlock.appendChild(questionText);
                questionBlock.appendChild(optionsList);
                quizForm.appendChild(questionBlock);
            });
        }

        function showResults() {
            if (studentNameInput.value.trim() === "") {
                alert("من فضلك أدخل اسمك قبل تسليم الامتحان.");
                return;
            }

            const answerContainers = quizForm.querySelectorAll('.options');
            let score = 0;
            let studentAnswers = [];

            quizData.forEach((currentQuestion, questionNumber) => {
                const selector = `input[name=question${questionNumber}]:checked`;
                const userAnswerNode = quizForm.querySelector(selector);
                const userAnswer = userAnswerNode ? userAnswerNode.value : undefined;
                studentAnswers.push(userAnswer);

                if (userAnswer === currentQuestion.answer) {
                    score += 2;
